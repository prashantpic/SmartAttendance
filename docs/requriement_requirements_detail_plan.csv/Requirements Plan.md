id,req_id,category,formalized_text,feature_group,original_text,assumptions,constraints,dependencies,detail_analysis,priority,validation_criteria
4315,REQ-TOP-001,Functional,"The system shall provide a public-facing tenant registration web page, hosted on Firebase Hosting, which allows a user to initiate the creation of a new organization account.",Tenant Onboarding & Provisioning,"A public registration page, hosted on Firebase Hosting, will allow a new user to sign up their organization.",,,,FALSE,high,
4316,REQ-TOP-002,Technical,"Upon successful submission of the tenant registration form, an idempotent Firebase Cloud Function shall be triggered to automatically provision the new tenant environment. This workflow must: 1. Generate a globally unique `tenantId`. 2. Create a tenant document structure in Firestore under the path `/tenants/{tenantId}`. 3. Create a user account in Firebase Authentication using the registrant's provided credentials. 4. Create a corresponding user profile document in the `/tenants/{tenantId}/users/{userId}` collection, linking it to the Firebase Auth UID.",Tenant Onboarding & Provisioning,"Upon registration, an idempotent Firebase Cloud Function will trigger to: Create a new tenant document in Firestore and generate a unique tenantId. Create the first user account for the registrant.",,,,FALSE,high,
4317,REQ-TOP-003,Functional,The system shall automatically assign the 'Admin' role and 'Active' status to the initial user account created during the tenant provisioning process. The user's document must also be populated with the `tenantId` of the newly created organization.,Tenant Onboarding & Provisioning,Assign the 'Admin' role and 'Active' status to this initial user.,,,,FALSE,high,
4318,REQ-TOP-004,Functional,"During the tenant provisioning process, the system shall automatically create a default configuration document within the new tenant's `config` sub-collection. This document must be seeded with default values, including `dataRetentionDays` set to 365 and `approvalLevels` set to 1, as per the system's default policies.",Tenant Onboarding & Provisioning,"Populate default configuration settings for the new tenant. Upon tenant creation, the system will populate a set of default policies in the `config` collection, including a 365-day data retention policy and a single level of approval.",,,,FALSE,high,
4319,REQ-2-001,Functional,The system shall support user authentication via two distinct methods: Email/Password and Phone Number with a One-Time Password (OTP). Both authentication flows must be implemented and managed using the Firebase Authentication service.,User Authentication & Session Management,"Users can authenticate using Email/Password and/or Phone OTP, managed by Firebase Authentication.",,,,FALSE,high,
4320,REQ-2-002,Functional,"Upon successful user authentication, the system must retrieve the user's assigned role ('Admin', 'Supervisor', or 'Subordinate') from their profile in the Firestore database. The application must then automatically navigate the user to the specific dashboard UI and feature set corresponding to their role.",User Authentication & Session Management,"After successful login, the application will route the user to the appropriate dashboard based on their assigned role.",,,,FALSE,high,
4321,REQ-2-003,Functional,"The authentication system must enforce access control based on the user's `status` field in their Firestore profile. Login shall only be permitted for users with a status of 'Active'. Login attempts by users with 'Invited' or 'Deactivated' status must be programmatically blocked and an appropriate, user-friendly error message shall be displayed.",User Authentication & Session Management,"User's status ('Active', 'Invited', 'Deactivated')... Admins can 'Deactivate' and 'Reactivate' users. Deactivated users cannot log in...",,,,FALSE,high,
4322,REQ-2-004,Functional,"The application shall provide a self-service 'Forgot Password' feature for users who authenticate with an email and password. This workflow must securely trigger the Firebase Authentication password reset mechanism, which sends a password reset link to the user's registered email address.",User Authentication & Session Management,A standard 'Forgot Password' workflow will be available for users with email-based accounts.,,,,FALSE,high,
4323,REQ-2-005,Functional,"Upon a user's initial successful login to the application, the system must modally present the full text of the Terms of Service (ToS) and the Privacy Policy. The user must be required to explicitly accept these terms before being granted any further access to the application's functionality. The system must record the fact and time of acceptance.",User Authentication & Session Management,All users must accept a mandatory ToS during their first login. A clear and accessible Privacy Policy... must be presented to users during onboarding.,,,,FALSE,high,
4324,REQ-2-006,NonFunctional,"The system shall maintain a persistent session after a user successfully authenticates. The user must remain logged in across application restarts without needing to re-enter credentials. Upon each successful login event, the system must update the `lastLoginTimestamp` field in the user's Firestore profile with the server-side timestamp of the authentication event.",User Authentication & Session Management,`lastLoginTimestamp`: (Timestamp) Timestamp of the user's last successful login.,,,,FALSE,high,
4325,REQ-2-007,NonFunctional,"The system's backend, including Firebase Authentication and Firestore, must be secured using Firebase App Check. App Check must be configured and enforced on the production environment to verify that all incoming requests originate from an authentic and unmodified instance of the official iOS or Android application, thereby blocking unauthorized clients.",User Authentication & Session Management,"Firebase App Check will be implemented and enforced to ensure that traffic originates from the legitimate application, protecting backend resources from abuse.",,,,FALSE,high,
4326,REQ-ATT-001,Functional,"The system shall provide a user interface for a 'Subordinate' role user to initiate a 'Check-in' action via a primary button. The system shall also allow a 'Check-in' to be initiated by selecting a specific, assigned event from the user's calendar view.",Core Attendance Tracking & Offline Sync,Users can mark their attendance via a simple button press or by selecting a pre-assigned event.,,,,FALSE,high,
4327,REQ-ATT-002,Functional,"Upon a 'Check-in' or 'Check-out' action, the application must capture a comprehensive data payload including: 1. `clientTimestamp`: The device's current timestamp. 2. `Location`: The user's GPS coordinates (GeoPoint) and accuracy in meters. 3. `userId`: The ID of the authenticated user. 4. `eventId`: An optional reference to a linked event. 5. `deviceInfo`: An object containing the client app version, OS, and device model.",Core Attendance Tracking & Offline Sync,Each attendance record will capture: A clientTimestamp from the device's clock at the time of the event. The user's current GPS coordinates and accuracy. An optional reference to a linked eventId. Device information (deviceInfo) such as app version and OS.,,,,FALSE,high,
4328,REQ-ATT-003,Functional,The system shall prevent a user from performing a 'Check-in' action if they have an active attendance record that has not yet been 'Checked-out'. The UI must reflect this state by disabling the 'Check-in' functionality and presenting only a 'Check-out' option.,Core Attendance Tracking & Offline Sync,Duplicate check-ins (a new check-in before checking out from a previous one) are not permitted. The user must check out first.,,,,FALSE,high,
4329,REQ-ATT-004,Functional,"The application must support full offline functionality for attendance marking. When the device is offline, check-in/out actions must save the attendance record to a local Hive database queue. Each locally queued record must have a `syncStatus` of 'Queued'. The application shall automatically attempt to sync the queued records to Firestore upon restoration of network connectivity, updating the `syncStatus` to 'Synced' on success or 'Failed' on persistent failure.",Core Attendance Tracking & Offline Sync,"The app will support offline attendance marking. Records created offline will be queued locally using Hive with a syncStatus of 'Queued'. They will be synced to Firestore once a network connection is re-established, and the syncStatus will be updated to 'Synced' or 'Failed'.",,,,FALSE,high,
4330,REQ-ATT-005,Technical,"Upon successful synchronization of a new attendance record to Firestore, a server-side Cloud Function must trigger to atomically augment the record with the following server-generated fields: `serverSyncTimestamp`, `approverHierarchy` array, and reverse-geocoded `checkInAddress` / `checkOutAddress` strings from the supplied GeoPoint coordinates.",Core Attendance Tracking & Offline Sync,"Upon sync, a serverSyncTimestamp will be added. A Cloud Function will perform reverse geocoding to populate the checkInAddress/checkOutAddress fields. The approverHierarchy array... is populated by a Cloud Function on record creation.",,,,FALSE,high,
4331,REQ-ATT-006,Functional,"The system shall check the user's location against the tenant's configured geofence (center GeoPoint and radius) during a 'Check-in' action. If the user is outside the geofence, the check-in must still be permitted, but the resulting attendance record must be flagged in a way that is clearly visible to the supervisor on the approval screen.",Core Attendance Tracking & Offline Sync,"If a geofence is configured, the app will check the user's location against it. Check-ins outside the geofence will be flagged for supervisor review but will not be blocked. A check-in occurring outside a defined geofence is permissible but will be flagged.",,,,FALSE,medium,
4332,REQ-ATT-007,Functional,"Upon creation in Firestore, every new attendance record must be assigned an initial approval `status` of 'Pending'.",Core Attendance Tracking & Offline Sync,All attendance records submitted by a Subordinate are initially marked with a 'Pending' status.,,,,FALSE,high,
4333,REQ-ATT-008,Functional,The system shall display a map preview of the user's current location on the attendance marking screen using the Google Maps API. The application must degrade gracefully if the map service is unavailable or fails to load; attendance marking functionality must remain fully operational without the map preview.,Core Attendance Tracking & Offline Sync,"Google Maps API for displaying GPS location previews during check-in. The application will handle failures of non-critical services gracefully. If the Google Maps API is unavailable, attendance marking will still function without the map preview.",,,,FALSE,medium,
4334,REQ-ATT-009,NonFunctional,"The end-to-end user-perceived latency for a check-in or check-out action, from button press to UI confirmation on the device, shall be less than 3 seconds over a stable 3G network (e.g., ~7.2 Mbps downlink).",Core Attendance Tracking & Offline Sync,Attendance check-in/out action must complete in under 3 seconds on a stable 3G connection.,,,,FALSE,high,
4335,REQ-ATT-010,Functional,"The application must implement a graceful location permission handling flow. It shall first display a clear rationale explaining the need for location data. If the user denies the permission, the app must display a user-friendly message explaining that attendance marking is disabled and provide instructions on how to manually grant the permission in device settings.",Core Attendance Tracking & Offline Sync,"The app will gracefully handle permission requests for location services, providing clear explanations to the user and fallback logic if permissions are denied.",,,,FALSE,high,
4336,REQ-AWF-001,Functional,The system shall automatically set the 'status' field of a newly created attendance record to 'Pending' upon successful submission by a user with the 'Subordinate' role.,Attendance Approval Workflow,All attendance records submitted by a Subordinate are initially marked with a 'Pending' status.,,,,FALSE,high,
4337,REQ-AWF-002,Functional,The system shall provide a dashboard view for 'Supervisor' role users that displays a list of all attendance records with a 'Pending' status where the supervisor's 'userId' is present in the record's 'approverHierarchy' array. This list must be fetched using a single Firestore query.,Attendance Approval Workflow,"Supervisors will have a dashboard view listing all pending attendance requests from their subordinates. This view will be populated by a single, efficient query using the approverHierarchy array in the attendance records.",,,,FALSE,high,
4338,REQ-AWF-003,NonFunctional,The supervisor's approval dashboard shall render the complete list of pending attendance requests within 5 seconds under test conditions simulating 50 pending requests on a stable 3G connection.,Attendance Approval Workflow,The Supervisor's approval dashboard must load in under 5 seconds for a list of up to 50 subordinates with pending requests.,,,,FALSE,high,
4339,REQ-AWF-004,Functional,The system shall display a distinct visual indicator on the supervisor's approval dashboard for any pending attendance record that was created outside the organization's configured geofence.,Attendance Approval Workflow,Check-ins outside the geofence will be flagged for supervisor review but will not be blocked.,,,,FALSE,medium,
4340,REQ-AWF-005,Functional,"The system shall allow a supervisor to perform an 'Approve' action on a pending attendance record. This action must update the record's 'status' field to 'Approved' and populate the 'approvalDetails' map with the supervisor's 'userId', the current server timestamp, and any provided comments.",Attendance Approval Workflow,"Supervisors can approve or reject each request. The action, timestamp, and optional comments will be stored in the approvalDetails object.",,,,FALSE,high,
4341,REQ-AWF-006,Functional,"The system shall allow a supervisor to perform a 'Reject' action on a pending attendance record. This action must update the record's 'status' field to 'Rejected' and populate the 'approvalDetails' map with the supervisor's 'userId', the current server timestamp, and any provided comments.",Attendance Approval Workflow,"Supervisors can approve or reject each request. The action, timestamp, and optional comments will be stored in the approvalDetails object.",,,,FALSE,high,
4342,REQ-AWF-007,Functional,The system shall trigger and send a push notification to the relevant supervisor(s) upon the creation of a new attendance record with a 'Pending' status. The system shall also trigger and send a push notification to the subordinate user when the status of their attendance record changes to 'Approved' or 'Rejected'.,Attendance Approval Workflow,A push notification will be sent to the relevant supervisor when a new attendance record requires approval. The subordinate will receive a push notification when their record is approved or rejected.,,,,FALSE,high,
4343,REQ-AWF-008,Functional,The system shall handle multi-level approvals based on the 'approvalLevels' value in the tenant's 'config' document. A record will remain 'Pending' until it is approved by the specified number of supervisors in the hierarchy. The final 'Approved' status is set only after the last required approval is completed.,Attendance Approval Workflow,The system will support multi-level approval workflows if configured in the tenant's settings.,,,,FALSE,medium,
4344,REQ-AWF-009,Security,The system shall enforce access control via Firebase Security Rules to ensure that a user with the 'Supervisor' role can only perform read and write operations (approve/reject) on attendance documents where their own 'userId' exists within the 'approverHierarchy' array.,Attendance Approval Workflow,Supervisors can only read the data of their subordinates (queried efficiently via the approverHierarchy field).,,,,FALSE,high,
4345,REQ-6-001,Functional,"The system shall provide an interface accessible only to users with the 'Supervisor' or 'Admin' role to create a new event. The creation process must require the input of an event title, a description, and an event date. Upon successful creation, a new document shall be generated in the tenant's `/events` collection.",Event Management & Calendar,"Supervisors can create events (e.g., Training, Field Visit, Meeting) through a calendar interface.",,,,FALSE,high,
4346,REQ-6-002,Functional,"During event creation or modification, the system shall allow a 'Supervisor' to assign the event to one or more 'Subordinate' users. The interface must present a list of only those users who are part of the supervisor's reporting hierarchy. The IDs of the selected users must be stored in the `assignedTo` array field of the event document.",Event Management & Calendar,Events can be assigned to specific individuals or entire teams under the supervisor's management.,,,,FALSE,high,
4347,REQ-6-003,Functional,"The system shall provide a calendar view accessible to all user roles. This view must display all events for which the logged-in user's `userId` is listed in the `assignedTo` array. The user interface must visually differentiate events based on their date relative to the current date (i.e., past, present, and future events).",Event Management & Calendar,"The user's calendar will display assigned events, visually distinguishing between past, present, and future events.",,,,FALSE,high,
4348,REQ-6-004,Functional,"During the attendance check-in process, the system shall provide a mechanism for a 'Subordinate' user to link the attendance record to an assigned event. This mechanism must present a selection of the user's assigned events that are scheduled for the current calendar date. Upon selection, the `eventId` of the chosen event must be stored in the `eventId` field of the newly created attendance record.",Event Management & Calendar,"Subordinates can link their attendance check-in to a specific, assigned event for better context and reporting.",,,,FALSE,high,
4349,REQ-6-005,Technical,"All event data must be stored within a tenant-specific Firestore path `/tenants/{tenantId}/events/{eventId}`. Each event document must strictly adhere to the defined schema, containing a unique `eventId` (String), `title` (String), `description` (String), `assignedTo` (Array of Strings), `createdBy` (String, referencing a `userId`), and `eventDate` (Timestamp).",Event Management & Calendar,"events: Stores supervisor-assigned events or tasks. `eventId`, `title`, `description`, `assignedTo`, `createdBy`, `eventDate`.",,,,FALSE,high,
4350,REQ-7-001,Functional,The system shall provide an in-app reporting dashboard accessible only to users with the 'Admin' role. This dashboard must display visual attendance summaries and allow access to detailed reports for all users within the Admin's tenant.,Reporting & Google Sheets Integration (Admin),Admins can view attendance summaries and reports within the app.,,,,FALSE,high,
4351,REQ-7-002,Functional,"The system shall provide a feature for an Admin to authorize and link a Google Sheet for data export. This process must:
1. Use the OAuth 2.0 protocol for Google account authentication.
2. Request the specific `https://www.googleapis.com/auth/drive.file` scope to limit access.
3. Upon successful authorization, store the Google Sheet `fileId` and the `ownerEmail` in the tenant's `linkedSheets` collection in Firestore.
4. Ensure this linkage is specific to the tenant and does not affect other tenants.",Reporting & Google Sheets Integration (Admin),"Admins can link a Google Sheet for data export. This requires a one-time OAuth 2.0 authentication to grant the application access to their Google Drive, specifically requesting the https://www.googleapis.com/auth/drive.file scope.",,,,FALSE,high,
4352,REQ-7-003,Functional,"A scheduled, idempotent Cloud Function shall automatically export attendance records to the linked Google Sheet. The function must:
1. Append records, not overwrite the sheet.
2. Operate on a configurable daily or weekly schedule.
3. Prevent the creation of duplicate records if run multiple times over the same period.
4. Use a fixed data schema with predefined headers (e.g., `RecordID`, `UserID`, `CheckInTimestamp`).
5. Write data by matching header names, ensuring the process is resilient to column reordering by the Admin.",Reporting & Google Sheets Integration (Admin),"The system will append attendance records to the linked sheet on a daily or weekly basis via a scheduled, idempotent Cloud Function. The export will use a fixed schema with defined column headers... The sync logic will write data by matching these headers to be resilient against column reordering.",,,,FALSE,high,
4353,REQ-7-004,NonFunctional,"The system must gracefully handle Google Sheets API integration failures. On a terminal failure (e.g., permission revoked, file deleted), the sync function shall:
1. Cease attempting to sync.
2. Update the `lastSyncStatus` field in the `linkedSheets` document to 'Failed'.
3. Log the specific API error for system diagnostics.
4. Trigger a push notification to the Admin who configured the integration, alerting them of the failure.
5. The mobile app must display a clear, persistent error message in the Admin's reporting interface, prompting for action.",Reporting & Google Sheets Integration (Admin),"The system will detect API errors (e.g., file deleted, permission revoked) and log them, updating the lastSyncStatus. In case of failure, the app will display a prompt and send a notification to the Admin to re-link or create a new sheet.",,,,FALSE,high,
4354,REQ-7-005,NonFunctional,"The data synchronization process must be resilient. For transient API errors (e.g., rate limiting), the function must use an exponential backoff retry strategy. If a sync fails due to a terminal error, attendance data that was due for export must be queued. Upon successful restoration of the integration, the next sync run must export all queued records. All sync failures, whether transient or terminal, must be logged with detailed error information.",Reporting & Google Sheets Integration (Admin),New attendance records will be queued and sync will be retried once the integration is restored. The sync function will use an exponential backoff strategy for transient API errors. Robust error logging will be implemented for all sync failures.,,,,FALSE,high,
4355,REQ-7-006,Functional,"The system must track the state of the Google Sheets integration within the `linkedSheets` collection. The Cloud Function must update the `lastSyncStatus` field to 'In Progress' when a sync begins, and to 'Success' or 'Failed' upon completion. The `lastSyncTimestamp` field must be updated with the server timestamp of the last fully successful synchronization.",Reporting & Google Sheets Integration (Admin),"The system will store the Google Sheet fileId in the linkedSheets collection. It will store the lastSyncStatus ('Success', 'Failed', 'In Progress') and lastSyncTimestamp.",,,,FALSE,medium,
4356,REQ-7-007,Functional,"The system shall create an immutable record in the `auditLogs` collection for all Google Sheet integration lifecycle events. An entry must be created when an Admin successfully links a new sheet and when an integration is unlinked. The log entry must contain the `action` type ('GSHEET_LINKED' or 'GSHEET_UNLINKED'), the `actorId` of the Admin, a timestamp, and the `targetId` of the affected sheet.",Reporting & Google Sheets Integration (Admin),A comprehensive audit trail of critical actions will be maintained in the auditLogs collection. Actions to be logged include... linking/unlinking of Google Sheets.,,,,FALSE,medium,
4357,REQ-7-008,Functional,"The system shall provide an Administrator Guide, accessible within the app or on a hosted web page. This guide must contain a dedicated section with step-by-step instructions for the Google Sheets integration, covering initial setup, interpreting sync status, and troubleshooting common failures like revoked permissions.",Reporting & Google Sheets Integration (Admin),"Administrator Guide: A detailed guide for Admins covering tenant setup, user management, configuration, and Google Sheets integration.",,,,FALSE,low,
4358,REQ-8-001,Functional,"The system shall provide an interface, accessible exclusively to users with the 'Admin' role, to initiate a one-time bulk import of user data by uploading a Comma-Separated Values (CSV) file.",User Data Migration & Bulk Import,The system must provide a feature for Admins to perform a one-time bulk import of user data from a previous system.,,,,FALSE,high,
4359,REQ-8-002,Functional,"The system shall require the use of a predefined CSV template for all bulk user imports. This template must specify the mandatory header columns: `name` (String), `email` (String, must be a valid email format), and `supervisorEmail` (String, can be empty). The system shall provide a means for the Admin to download this template.",User Data Migration & Bulk Import,"Data must be provided in a predefined CSV template. The template will specify the required columns and data formats for `name`, `email`, and `supervisorEmail`.",,,,FALSE,high,
4360,REQ-8-003,Functional,"Upon CSV upload, an asynchronous Cloud Function shall process each row to: 1. Validate the `email` for correct format and uniqueness within the tenant. 2. Validate that the `supervisorEmail`, if provided, corresponds to another user's email within the same import batch or an existing user in the tenant. 3. For each valid row, create a new user document in Firestore with the `status` field set to 'Invited'. 4. Establish the reporting hierarchy by setting the `supervisorId` on the new user's document.",User Data Migration & Bulk Import,"A Cloud Function will process the uploaded CSV file, validate each row against the business rules (e.g., valid email format, supervisor exists), create user accounts with 'Invited' status, and build the initial hierarchy.",,,,FALSE,high,
4361,REQ-8-004,Functional,"After the import process completes, the system shall generate and present a validation report to the Admin. The report must itemize all processed records, clearly distinguishing between successfully imported users and failed records. For each failed record, the report must provide a specific, user-friendly error message indicating the reason for failure (e.g., 'Duplicate Email', 'Supervisor Not Found', 'Invalid Email Format').",User Data Migration & Bulk Import,A validation report detailing successful and failed records will be generated for the Admin.,,,,FALSE,high,
4362,REQ-8-005,Functional,"The data migration feature shall be explicitly limited to user profile data (`name`, `email`) and hierarchy (`supervisorEmail`). The system shall not support the import or migration of any historical attendance records.",User Data Migration & Bulk Import,Migration of historical attendance records is not supported in the initial release.,,,,FALSE,high,
4363,REQ-9-001,Technical,"The system shall integrate Firebase Cloud Messaging (FCM) for push notification delivery. Upon successful login, the mobile application must acquire the device-specific FCM registration token. This token must be stored in the `fcmToken` field of the corresponding user's document in Firestore (`/tenants/{tenantId}/users/{userId}`). The application must implement logic to refresh and update this token in Firestore whenever it is regenerated by FCM services to ensure continued notification delivery.",Notifications Framework (FCM),Backend Services & Cloud Functions: Firebase with Cloud Functions... Authentication: Firebase Authentication... Database: Firebase Firestore... Notifications: Firebase Cloud Messaging for push notifications... users collection: fcmToken: (String) Firebase Cloud Messaging token for push notifications.,,,,FALSE,high,
4364,REQ-9-002,Functional,The system must automatically trigger and send a push notification to the appropriate supervisor(s) when a subordinate's attendance record is created with a 'Pending' status. The notification's target shall be determined by the `approverHierarchy` field in the attendance record. The notification payload must contain the subordinate's name and the type of request to provide immediate context.,Notifications Framework (FCM),A push notification will be sent to the relevant supervisor when a new attendance record requires approval.,,,,FALSE,high,
4365,REQ-9-003,Functional,The system must send a push notification to the subordinate user after their attendance record has been actioned (approved or rejected) by a supervisor. The notification message must clearly state the final status of the attendance record ('Approved' or 'Rejected') and may include the name of the supervisor who took the action.,Notifications Framework (FCM),The subordinate will receive a push notification when their record is approved or rejected.,,,,FALSE,high,
4366,REQ-9-004,Functional,"The system shall send a push notification to all users with the 'Admin' role within a tenant when the automated Google Sheets sync process fails due to a non-recoverable error (e.g., permission revocation, file deletion). The notification must alert the Admin to the sync failure and suggest corrective action.",Notifications Framework (FCM),"In case of failure, the app will display a prompt and send a notification to the Admin to re-link or create a new sheet.",,,,FALSE,medium,
4367,REQ-9-005,Functional,"The system shall automatically send a push notification to all 'Admin' role users of a tenant when their organization's resource consumption (e.g., document writes, storage) exceeds predefined Fair Use Policy thresholds. The notification must inform the Admin about the excessive usage.",Notifications Framework (FCM),A Fair Use Policy must be implemented... The system will include mechanisms to notify Admins of excessive usage...,,,,FALSE,medium,
4368,REQ-9-006,Functional,"The system must support the ability for system operators to send broadcast push notifications to all active users. This functionality shall be used to communicate critical system-wide information, such as scheduled maintenance windows or service availability updates.",Notifications Framework (FCM),Planned maintenance windows will be communicated to users in advance for deploying major updates or performing infrastructure maintenance.,,,,FALSE,medium,
4369,REQ-MTDM-001,Technical,"The system shall implement a multi-tenant architecture using a siloed data model in Firestore. All data for a specific organization (tenant) must be stored exclusively under the path '/tenants/{tenantId}/'. Firebase Security Rules must be implemented to ensure a user authenticated for a given tenant ID can only perform read, write, update, or delete operations on documents located within their corresponding '/tenants/{tenantId}/' path and no other.",Multi-Tenancy Architecture & Data Modeling,Each organization is treated as an isolated tenant within the system. All tenant-specific data in Firestore will be stored under a unique path: /tenants/{tenantId}. Firebase Security Rules will strictly enforce that users can only access data within their own {tenantId} path.,,,,FALSE,high,
4370,REQ-MTDM-002,Technical,"Each tenant's data partition in Firestore at '/tenants/{tenantId}/' shall contain a predefined set of primary sub-collections. This structure must include: 'users', 'attendance', 'events', 'config', 'linkedSheets', and 'auditLogs'. The system shall use these collections to store all tenant-specific operational and configuration data.",Multi-Tenancy Architecture & Data Modeling,"The primary Firestore collections will be structured under each tenant. /tenants/{tenantId}/ users/{userId}, attendance/{recordId}, events/{eventId}, config/{configId}, linkedSheets/{sheetInfoId}, auditLogs/{logId}",,,,FALSE,high,
4371,REQ-MTDM-003,Technical,"The system shall store user data in a 'users' collection under each tenant. Each user document must conform to a schema containing: 'userId' (String, a unique identifier from Firebase Auth), 'tenantId' (String), 'name' (String), 'email' (String), 'role' (String: 'Admin', 'Supervisor', 'Subordinate'), 'status' (String: 'Active', 'Invited', 'Deactivated'), 'supervisorId' (String, nullable reference to another userId), 'fcmToken' (String, nullable), 'createdAt' (Timestamp), 'updatedAt' (Timestamp), and 'lastLoginTimestamp' (Timestamp, nullable).",Multi-Tenancy Architecture & Data Modeling,"users: Stores user profiles, roles, and the reporting hierarchy. (Schema specified with userId, tenantId, name, email, role, status, supervisorId, fcmToken, createdAt, updatedAt, lastLoginTimestamp).",,,,FALSE,high,
4372,REQ-MTDM-004,Technical,"The system shall store each attendance event in an 'attendance' collection under each tenant. Each record must include: 'userId' (String), 'clientCheckInTimestamp' (Timestamp), 'serverSyncTimestamp' (Timestamp), 'checkInLocation' (GeoPoint), 'checkInAccuracy' (Number), 'status' (String: 'Pending', 'Approved', 'Rejected'), 'syncStatus' (String: 'Queued', 'Synced', 'Failed'), and 'deviceInfo' (Object). The schema must also support optional fields: 'clientCheckOutTimestamp' (Timestamp), 'checkInAddress' (String), 'checkOutLocation' (GeoPoint), 'checkOutAccuracy' (Number), 'checkOutAddress' (String), 'eventId' (String), and 'approvalDetails' (Object with 'approverId', 'timestamp', 'comments'). A non-optional 'approverHierarchy' (Array of Strings) must be present.",Multi-Tenancy Architecture & Data Modeling,"attendance: Stores individual attendance records. (Schema specified with multiple fields including timestamps, locations, status, approvalDetails, and approverHierarchy).",,,,FALSE,high,
4373,REQ-MTDM-005,Technical,"The system must automatically populate an 'approverHierarchy' field in every new attendance record. This field must be an array of user IDs representing the complete supervisory chain of the user marking attendance, starting from their direct supervisor. A Cloud Function triggered on the creation of a new attendance document shall be responsible for calculating and populating this array based on the current 'users' hierarchy.",Multi-Tenancy Architecture & Data Modeling,approverHierarchy: (Array of Strings) An array of userIds representing the full supervisory chain for the user. This is populated by a Cloud Function on record creation to enable efficient queries.,,,,FALSE,high,
4374,REQ-MTDM-006,Functional,"The system shall enforce data integrity for user and attendance records through server-side validation. Validation rules must ensure: 1. A user's 'supervisorId' must reference an existing user with a 'Supervisor' or 'Admin' role within the same tenant. 2. A user cannot be their own supervisor ('userId' must not equal 'supervisorId'). 3. The 'clientCheckOutTimestamp' in an attendance record, if it exists, must be chronologically later than its 'clientCheckInTimestamp'. Operations violating these rules must be rejected.",Multi-Tenancy Architecture & Data Modeling,"Field Constraints: ... supervisorId: Must correspond to an existing userId with the 'Supervisor' or 'Admin' role within the same tenant and must not be equal to the user's own userId. clientCheckOutTimestamp: If present, must be later than clientCheckInTimestamp.",,,,FALSE,high,
4375,REQ-MTDM-007,NonFunctional,"The system must use Firestore transactions or batched writes for any operation that requires modifying multiple documents, to guarantee atomicity. This must be applied to critical workflows such as changing a user's supervisor, which may require updates to multiple subordinate records or hierarchy-dependent data.",Multi-Tenancy Architecture & Data Modeling,"Data Integrity: Firestore transactions will be used for operations that modify multiple documents simultaneously (e.g., changing a user's supervisor and updating their subordinates' approverHierarchy) to ensure atomicity.",,,,FALSE,high,
4376,REQ-MTDM-008,Technical,"The system shall store tenant-wide settings in a 'config' collection. The schema must support fields for 'workingHours' (Object), 'timezone' (String, IANA format), 'geofence' (Object, optional, with 'center' GeoPoint and 'radius' Number), 'approvalLevels' (Number, integer 1-3), and 'dataRetentionDays' (Number, integer 90-730, default 365).",Multi-Tenancy Architecture & Data Modeling,"config: Stores organization-specific policies. (Schema with workingHours, timezone, geofence, approvalLevels, dataRetentionDays).",,,,FALSE,high,
4377,REQ-MTDM-009,Technical,"The system shall maintain an immutable audit trail for each tenant in an 'auditLogs' collection. Each log entry must conform to a schema containing: 'logId' (String, unique), 'timestamp' (Timestamp), 'actorId' (String, user who performed action), 'action' (String, e.g., 'USER_DEACTIVATED'), 'targetId' (String, e.g., affected userId), and 'details' (Object, containing relevant event data like old/new values).",Multi-Tenancy Architecture & Data Modeling,"auditLogs: Stores a trail of critical system events for security and compliance. (Schema with logId, timestamp, actorId, action, targetId, details).",,,,FALSE,high,
4378,REQ-MTDM-010,Technical,"The system shall support data models for events and Google Sheets integration metadata. The 'events' collection shall store documents with 'eventId' (String), 'title' (String), 'description' (String), 'assignedTo' (Array of Strings), 'createdBy' (String), and 'eventDate' (Timestamp). The 'linkedSheets' collection shall store documents with 'fileId' (String), 'ownerEmail' (String), 'lastSyncStatus' (String), and 'lastSyncTimestamp' (Timestamp).",Multi-Tenancy Architecture & Data Modeling,events: Stores supervisor-assigned events or tasks... linkedSheets: Stores metadata for the Google Sheet export integration.,,,,FALSE,medium,
4379,REQ-11-001,NonFunctional,"The system shall enforce strict data isolation between tenants by storing all tenant-specific data under a unique `/tenants/{tenantId}` path in Firestore. Security rules must prevent any authenticated user from reading, writing, or listing data outside of their own organization's `tenantId` path.",System Security & Access Control,All tenant-specific data in Firestore will be stored under a unique path: `/tenants/{tenantId}`. Firebase Security Rules will strictly enforce that users can only access data within their own `{tenantId}` path.,,,,FALSE,high,
4380,REQ-11-002,NonFunctional,"The system shall enforce hierarchical, role-based access control (RBAC) within a tenant's data scope. Admins shall have full read/write access to all data within their tenant. Supervisors shall have read access to the records of their direct and indirect subordinates, identified via the `approverHierarchy` field. Subordinates shall only have read/write access to their own user profile and attendance records.",System Security & Access Control,Security rules will enforce the reporting hierarchy: Supervisors can only read the data of their subordinates (queried efficiently via the `approverHierarchy` field). Subordinates can only read/write their own data. Admins have read/write access to all data within their tenant.,,,,FALSE,high,
4381,REQ-11-003,NonFunctional,"The system shall integrate Firebase App Check to verify that all requests to Firebase backend services (Firestore, Cloud Functions, Storage) originate from a legitimate, unmodified instance of the mobile application. Requests failing App Check verification must be rejected before they can access backend resources.",System Security & Access Control,"Firebase App Check will be implemented and enforced to ensure that traffic originates from the legitimate application, protecting backend resources from abuse.",,,,FALSE,high,
4382,REQ-11-004,NonFunctional,The system shall ensure all data is encrypted both in transit and at rest. Communication between the mobile client and Firebase backend services must be exclusively over HTTPS/TLS. All data stored in Firebase Firestore and Firebase Storage must leverage the default server-side encryption provided by Google Cloud Platform.,System Security & Access Control,All data will be encrypted in transit via HTTPS. Data at rest within Firebase services is encrypted by default by Google Cloud Platform.,,,,FALSE,high,
4383,REQ-11-005,NonFunctional,The system shall implement automated security vulnerability scanning for all third-party dependencies in both the Flutter application and TypeScript Cloud Functions. The CI/CD pipeline must be configured to use GitHub Dependabot to automatically detect and create alerts or pull requests for dependencies with known vulnerabilities.,System Security & Access Control,Automated dependency scanning via GitHub Dependabot will be used to identify and alert on vulnerabilities in third-party packages.,,,,FALSE,medium,
4384,REQ-11-006,NonFunctional,"The system's Google Sheets integration shall use the OAuth 2.0 protocol for authorization. The application must request the narrowest possible permission scope, specifically `https://www.googleapis.com/auth/drive.file`, which grants permission to create new files and access only those files it has created. The system must not request broader scopes like full Drive access.",System Security & Access Control,Access to Google Sheets is granted on a per-admin basis via OAuth and can be revoked by the user... specifically requesting the https://www.googleapis.com/auth/drive.file scope.,,,,FALSE,high,
4385,REQ-11-007,Functional,"The system shall maintain an immutable audit trail for security-sensitive events within each tenant, stored in the `/tenants/{tenantId}/auditLogs` collection. Logged actions must include user creation, deactivation, role changes, organization configuration updates, and Google Sheet integration link/unlink events. The system must provide a dedicated, read-only interface for users with the 'Admin' role to view these audit logs.",System Security & Access Control,"A comprehensive audit trail of critical actions will be maintained in the `auditLogs` collection. Actions to be logged include...user creation/deactivation, role changes, updates to organization configuration...Audit logs will be accessible for viewing by tenant Admins.",,,,FALSE,high,
4386,REQ-12-001,NonFunctional,"The system shall use Firebase Firestore as the primary and authoritative data store for all active application data, including users, configurations, events, and attendance records. Google Sheets must be treated exclusively as a secondary, optional export destination and must not be used as a source of truth for any system operation or logic.","Data Management, Retention & Archival","Data Storage Strategy: Firebase Firestore: Primary store for all master data (users, hierarchy), configurations, events, and active attendance records. Google Sheets: Used only as an optional export destination for reporting and archival, not as a primary data source.",,,,FALSE,high,
4387,REQ-12-002,Functional,"The system shall provide a configuration setting for tenant Administrators to define a data retention period for active attendance records. This value must be an integer between 90 and 730, inclusive. Upon creation of a new tenant, the system must set this value to a default of 365 days.","Data Management, Retention & Archival",config: ... dataRetentionDays: (Number) Number of days to retain active attendance records in Firestore before archival. Must be an integer between 90 and 730. Default: 365.,,,,FALSE,high,
4388,REQ-12-003,Functional,"The system must implement a scheduled, idempotent Cloud Function that automatically archives attendance records older than the tenant's configured `dataRetentionDays`. The function must export these records to a tenant-specific folder within Firebase Storage. The exported archive file must be in Newline Delimited JSON (NDJSON) format.","Data Management, Retention & Archival","After this period, a scheduled, idempotent Cloud Function will automatically archive records to a tenant-specific folder in Firebase Storage in Newline Delimited JSON (NDJSON) format and then purge them from Firestore.",,,,FALSE,high,
4389,REQ-12-004,Functional,"Upon the successful archival of attendance records to Firebase Storage, the system must permanently delete (purge) those same records from the `attendance` collection in Firestore. This purge operation must only be executed after the archival is successfully completed. Purged records must no longer be visible in any in-app history view.","Data Management, Retention & Archival",...and then purge them from Firestore. The in-app history view will not have access to this archived data.,,,,FALSE,high,
4390,REQ-12-005,NonFunctional,"The system must handle all Personally Identifiable Information (PII), including names, emails, and location data, as sensitive information. Data access must be restricted based on user roles according to the principle of least privilege. The system shall only collect, store, and process data fields explicitly defined in the SRS data models, enforcing data minimization.","Data Management, Retention & Archival","PII Handling: Personally Identifiable Information (PII) such as name, email, and location data will be treated as sensitive... Data Minimization: The system will only collect data that is essential for its core functionality...",,,,FALSE,high,
4391,REQ-12-006,Functional,The system shall not provide any feature or tool for the import of historical attendance records from any external or legacy system. Data import functionality must be strictly limited to the one-time bulk import of user data as specified in the Data Migration Strategy.,"Data Management, Retention & Archival",Historical Data: Migration of historical attendance records is not supported in the initial release.,,,,FALSE,medium,
4392,REQ-MAA-001,Functional,"The system SHALL create and store an immutable record in the tenant-specific `/tenants/{tenantId}/auditLogs` collection for every critical system action. Each log entry MUST conform to the `auditLogs` schema, capturing the `actorId`, `action` type, `targetId`, and a `details` object with before/after states where applicable. Logged actions MUST include: 'USER_DEACTIVATED', 'USER_REACTIVATED', 'ROLE_CHANGED', 'CONFIG_UPDATED', and 'SHEET_INTEGRATION_MODIFIED'.","Monitoring, Alerting & Auditing","A comprehensive audit trail of critical actions will be maintained in the `auditLogs` collection. Actions to be logged include, but are not limited to: user creation/deactivation, role changes, updates to organization configuration, and linking/unlinking of Google Sheets.",,,,FALSE,high,
4393,REQ-MAA-002,Functional,"The system SHALL provide a dedicated user interface, accessible only to users with the 'Admin' role, for viewing the audit logs of their own tenant. The interface MUST allow admins to read all fields of the log entries within their tenant's `auditLogs` collection.","Monitoring, Alerting & Auditing",Audit logs will be accessible for viewing by tenant Admins through a dedicated interface to support compliance and security investigations.,,,,FALSE,high,
4394,REQ-MAA-003,NonFunctional,"The system's operational health SHALL be monitored by tracking key performance indicators within Google Cloud Monitoring. Monitored metrics MUST include, at a minimum: Firebase Firestore read/write/delete latencies, Cloud Function execution counts, Cloud Function error rates and failure percentages, and Firebase Crashlytics crash-free user rates.","Monitoring, Alerting & Auditing","Key metrics for Firebase services (Firestore latency, Function execution counts and errors, Crashlytics error rates) will be monitored via Google Cloud Monitoring dashboards.",,,,FALSE,high,
4395,REQ-MAA-004,NonFunctional,The system SHALL be configured to automatically send notifications to a predefined development team channel for critical operational events. Alerting rules MUST be created for the following conditions: 1. Cloud Function error rates exceeding a defined percentage threshold. 2. Cloud Function P95 execution latency exceeding a defined millisecond threshold. 3. Firestore P95 read/write latency exceeding a defined millisecond threshold. 4. Application crash-free user rates reported by Crashlytics falling below a defined percentage threshold.,"Monitoring, Alerting & Auditing","Automated alerts will be configured to notify the development team of critical events, such as: Spikes in Cloud Function error rates or execution times. High Firestore read/write latencies. Application crash rates exceeding a defined threshold.",,,,FALSE,high,
4396,REQ-MAA-005,Technical,The mobile application SHALL integrate the Firebase Crashlytics SDK to automatically capture and report all unhandled exceptions and application crashes to the Firebase console in real-time.,"Monitoring, Alerting & Auditing",Crash & Error Reporting: Firebase Crashlytics for real-time crash reporting and error analysis.,,,,FALSE,high,
4397,REQ-MAA-006,Functional,"The system SHALL implement a periodic, scheduled Cloud Function to aggregate and record resource consumption metrics for each tenant. The monitored metrics MUST include, at a minimum, Firestore document reads, writes, and total storage used. This data SHALL be used to enforce the Fair Use Policy.","Monitoring, Alerting & Auditing","Firebase Cloud Functions will be used to periodically aggregate usage metrics (e.g., document writes, reads, storage consumption) on a per-tenant basis.",,,,FALSE,medium,
4398,REQ-MAA-007,NonFunctional,"A budget alert SHALL be configured in the Google Cloud Billing account associated with each Firebase project (development, staging, production). The alert MUST be configured to send a notification to a designated administrative email address when actual or forecasted spending exceeds predefined monetary thresholds.","Monitoring, Alerting & Auditing",Budget alerts will be configured in the Google Cloud project to notify developers of unusual cost spikes.,,,,FALSE,high,
4399,REQ-LRC-001,NonFunctional,The system shall host a publicly accessible Privacy Policy document on Firebase Hosting. This policy must be accessible via a direct URL and shall be linked from within the application's onboarding flow and from the Google Play Store and Apple App Store listings.,"Legal, Regulatory Compliance & Privacy","A clear and accessible Privacy Policy, hosted on Firebase Hosting, must be presented to users during onboarding. The Privacy Policy... will be... hosted on Firebase Hosting and linked in the store listing.",,,,FALSE,high,
4400,REQ-LRC-002,Functional,The system shall require all users to explicitly accept both the Terms of Service (ToS) and the Privacy Policy during their initial onboarding or first login. User progression into the main application must be blocked until acceptance is given. The system must record the fact and time of acceptance for each user.,"Legal, Regulatory Compliance & Privacy","All users must accept a mandatory ToS during their first login. Users will be informed about data collection practices in the Privacy Policy, which they must accept during onboarding.",,,,FALSE,high,
4401,REQ-LRC-003,NonFunctional,"The Privacy Policy document must detail: (a) all types of data collected, specifically mentioning PII and location data; (b) the purpose for collecting this data; (c) data retention periods as configured per tenant; and (d) user rights under applicable regulations. The Terms of Service (ToS) must define user responsibilities, acceptable use, and include a Limitation of Liability clause.","Legal, Regulatory Compliance & Privacy","The ToS will outline user responsibilities, acceptable use, and a Limitation of Liability clause... The Privacy Policy... will detail the data being collected (including PII and location data), the purpose of collection, data retention periods, and user rights.",,,,FALSE,high,
4402,REQ-LRC-004,Functional,"The system must provide the necessary functionalities for a tenant Administrator to fulfill data subject rights requests (access, rectification, erasure) from users within their organization. This includes the ability for the Admin to view, modify, and deactivate/delete user data through their administrative interface.","Legal, Regulatory Compliance & Privacy","The system will be designed to comply with the principles of major data protection regulations, including...GDPR and...CCPA. This includes honoring data subject rights for access, rectification, and erasure of personal data, accessible via a request to the tenant Admin.",,,,FALSE,high,
4403,REQ-LRC-005,NonFunctional,"The system shall enforce data privacy by design, adhering to the principles of Data Minimization and Least Privilege. The data model shall only include fields essential for the system's defined functionality. Access to Personally Identifiable Information (PII) must be strictly controlled via role-based Firebase Security Rules.","Legal, Regulatory Compliance & Privacy",PII...will be treated as sensitive. Access will be strictly controlled by Firebase Security Rules...adhering to the principle of least privilege. The system will only collect data that is essential for its core functionality...,,,,FALSE,high,
4404,REQ-LRC-006,Functional,"The system must implement a Fair Use Policy enforcement mechanism. This shall include: (a) a process to monitor resource consumption (e.g., document writes, function executions) per tenant; (b) a system to notify tenant Admins when usage exceeds defined thresholds; and (c) an automated throttling mechanism to temporarily limit service for tenants who consistently violate the policy.","Legal, Regulatory Compliance & Privacy",A Fair Use Policy must be implemented and enforced to prevent abuse of the free service. This includes system monitoring of resource consumption per tenant and automated throttling mechanisms for tenants who consistently exceed defined usage limits.,,,,FALSE,medium,
4405,REQ-LRC-007,NonFunctional,"The iOS application package must include clear, user-facing purpose strings in its `Info.plist` file that justify the request for permissions, specifically for location services (`NSLocationWhenInUseUsageDescription`) and any other sensitive permissions required by the app.","Legal, Regulatory Compliance & Privacy",The `Info.plist` file will contain purpose strings (usage descriptions) for location services and network access.,,,,FALSE,high,
4406,REQ-15-001,NonFunctional,"The mobile application user interface for all roles (Subordinate, Supervisor, Admin) must conform to the Web Content Accessibility Guidelines (WCAG) 2.1 at Level AA.",Accessibility (a11y) & Internationalization (i18n),The application must comply with Web Content Accessibility Guidelines (WCAG) 2.1 Level AA as a mandatory requirement.,,,,FALSE,high,
4407,REQ-15-002,NonFunctional,"All UI elements, components, and user flows must be fully functional and understandable when using native screen readers (TalkBack for Android, VoiceOver for iOS). All interactive elements must have appropriate semantic labels, roles, states, and hints. All informational images must have descriptive alternative text.",Accessibility (a11y) & Internationalization (i18n),"The application must adhere to accessibility best practices, including support for screen readers (TalkBack/VoiceOver)... Testing will be performed with actual accessibility tools.",,,,FALSE,high,
4408,REQ-15-003,NonFunctional,"The application's visual design must meet WCAG 2.1 AA standards for color contrast, with a minimum ratio of 4.5:1 for normal text and 3:1 for large text. The application must respect the user's system-level font size settings, allowing text to reflow and scale without breaking the UI layout or causing content to be truncated.",Accessibility (a11y) & Internationalization (i18n),"...sufficient color contrast ratios (WCAG 2.1 AA), and scalable fonts.",,,,FALSE,high,
4409,REQ-15-004,Technical,"The application must be architected to support multiple languages. All user-facing strings, including labels, messages, errors, and menu items, must be externalized from the source code into Application Resource Bundle (.arb) files. The application must not contain any hardcoded, user-facing text.",Accessibility (a11y) & Internationalization (i18n),The application must be architected for full internationalization support. All user-facing strings will be externalized into resource files (ARB files) to facilitate translation into other languages.,,,,FALSE,high,
4410,REQ-15-005,NonFunctional,"All training materials, including the online help center and in-app guided tours, must be accessible. The web-based help center must comply with WCAG 2.1 Level AA, and any video tutorials must provide accurate, synchronized closed captions or a full text transcript.",Accessibility (a11y) & Internationalization (i18n),"Training materials will consist of in-app guided tours for first-time users, short video tutorials, and a searchable online help center hosted on Firebase Hosting.",,,,FALSE,medium,
4411,REQ-DX-001,Technical,"The system shall implement a Continuous Integration/Continuous Deployment (CI/CD) pipeline using GitHub Actions. This pipeline must automate the building, static analysis, and execution of unit/widget tests for every commit. Upon a successful merge to the `main` branch, the pipeline must automatically build the Android App Bundle (AAB) and iOS archive, and then deploy them to Google Play Internal Testing and Apple TestFlight, respectively.",Developer Experience & CI/CD Pipeline,"CI/CD Pipeline: GitHub Actions for automated building, testing, and deployment of the Flutter app and Firebase assets. The GitHub Actions pipeline will be configured to run tests on every commit and automate releases to TestFlight/Google Play Internal Testing upon merges to the main branch.",,,,FALSE,high,
4412,REQ-DX-002,Technical,"The project shall integrate the `flutter_lints` package to enforce a consistent and high-quality code style for all Dart code. The static code analysis process must be configured as a mandatory, non-skippable check within the CI/CD pipeline, causing the build to fail if any linting rules are violated.",Developer Experience & CI/CD Pipeline,Static Code Analysis: flutter_lints package to enforce consistent code style and catch potential errors.,,,,FALSE,high,
4413,REQ-DX-003,Technical,"The development process shall utilize the `flutter_test` framework for unit and widget tests and the `integration_test` framework for end-to-end tests. The `mockito` library must be used for creating mock objects and dependencies. All new or modified critical business logic, including mobile app state management and TypeScript Cloud Functions, must achieve a minimum code coverage of 80%, as measured by standard testing tools.",Developer Experience & CI/CD Pipeline,Testing Frameworks: Unit/Widget Testing: `flutter_test` framework. Integration/E2E Testing: `integration_test` framework. Mocking: `mockito` library for mocking dependencies. A minimum test coverage target of 80% will be enforced for all backend Cloud Functions and critical business logic in the mobile app.,,,,FALSE,high,
4414,REQ-DX-004,NonFunctional,"The mobile application shall integrate the Firebase Crashlytics SDK to automatically capture and report all unhandled exceptions and application crashes in real-time. Crash reports must be segregated and sent to the Firebase project corresponding to the build's environment (`development`, `staging`, or `production`).",Developer Experience & CI/CD Pipeline,Crash & Error Reporting: Firebase Crashlytics for real-time crash reporting and error analysis.,,,,FALSE,high,
4415,REQ-DX-005,Technical,"The project's GitHub repository shall be configured to use GitHub Dependabot for automated, continuous scanning of all third-party dependencies, including Dart/Flutter packages (`pubspec.yaml`) and Cloud Function packages (`package.json`). Dependabot must be configured to generate security alerts and automatically create pull requests to update dependencies with known vulnerabilities.",Developer Experience & CI/CD Pipeline,Dependency Security: GitHub Dependabot for automated vulnerability scanning of project dependencies.,,,,FALSE,high,
4416,REQ-DX-006,Technical,"The developer workflow must utilize the Firebase Local Emulator Suite for all local development and testing. The suite must emulate Authentication, Firestore, Cloud Functions, and Storage services. The project must provide scripts and documentation to allow a developer to easily start the emulators and connect the mobile application for end-to-end local testing, including the validation of Firestore security rules and Cloud Function triggers.",Developer Experience & CI/CD Pipeline,"The Firebase Local Emulator Suite will be used during development to test security rules, cloud functions, and Firestore logic without incurring cloud costs and to accelerate development cycles.",,,,FALSE,high,
4417,REQ-DX-007,Technical,"The system architecture shall enforce strict environment isolation by using three distinct and separate Firebase projects: `development`, `staging`, and `production`. All infrastructure, including databases, functions, and authentication, must be fully independent across these projects. The CI/CD pipeline must be configured to target deployments and configurations to the correct environment.",Developer Experience & CI/CD Pipeline,"A multi-project strategy will be adopted... Separate Firebase projects will be maintained for `development`, `staging`, and `production` environments.",,,,FALSE,high,
4418,REQ-DX-008,Technical,"The project must provide executable scripts to programmatically generate and seed realistic test data into a specified Firestore database. These scripts must be capable of creating multiple tenants, a hierarchy of users (Admins, Supervisors, Subordinates), events, and historical attendance records. The scripts must be configurable to run against the local emulator or a cloud-based environment (`development` or `staging`).",Developer Experience & CI/CD Pipeline,Test Data: Scripts will be created to generate realistic test data within the development and staging environments to facilitate thorough testing of features like reporting and supervisor dashboards.,,,,FALSE,medium,
4419,REQ-BRS-001,NonFunctional,The system MUST support a Recovery Point Objective (RPO) of no more than 24 hours and a Recovery Time Objective (RTO) of no more than 4 hours for restoring core backend services following a declared disaster event.,"Backup, Recovery & System Reliability",Recovery Point Objective (RPO): 24 hours. The system must be recoverable to a state within 24 hours of a disaster event. Recovery Time Objective (RTO): 4 hours. Core services must be restored within 4 hours of a disaster event.,,,,FALSE,high,
4420,REQ-BRS-002,Technical,"The production Firebase project MUST have Firestore's Point-in-Time Recovery (PITR) feature enabled. In addition, a secondary backup mechanism MUST be configured to perform and store regular, automated exports of all Firestore data to a separate, secure storage location.","Backup, Recovery & System Reliability",Backup Strategy: Firestore's built-in Point-in-Time Recovery (PITR) feature will be enabled on the production project to allow for recovery from accidental data deletion or corruption. Regular exports of Firestore data will be configured as a secondary backup mechanism.,,,,FALSE,high,
4421,REQ-BRS-003,NonFunctional,"The core backend services, including Firebase Authentication, Firestore, and critical Cloud Functions, MUST achieve a Service Level Objective (SLO) of 99.9% uptime, measured on a rolling 30-day basis, excluding pre-communicated scheduled maintenance windows.","Backup, Recovery & System Reliability","Service Level Objective (SLO): Core backend services will have a 99.9% uptime target, excluding scheduled maintenance windows.",,,,FALSE,high,
4422,REQ-BRS-004,Functional,The mobile application MUST support offline attendance marking (check-in/check-out) and viewing of the user's own historical attendance data. Offline-created records MUST be queued locally in the Hive database. The application MUST automatically attempt to synchronize queued records with the Firestore backend once network connectivity is re-established.,"Backup, Recovery & System Reliability","Key functions, such as attendance marking and viewing personal history, will be designed to work offline. Data will be synchronized automatically when connectivity is restored using the Hive local database as a queue.",,,,FALSE,high,
4423,REQ-BRS-005,NonFunctional,All backend operations that modify two or more Firestore documents as part of a single logical action MUST be executed within a Firestore transaction or a batched write to ensure atomicity and data consistency across the tenant's data.,"Backup, Recovery & System Reliability","Data Consistency: Firestore transactions or batched writes will be used for operations that involve multiple document updates (e.g., user creation, approval updates) to ensure data consistency.",,,,FALSE,high,
4424,REQ-BRS-006,NonFunctional,"The application MUST continue to perform its core functions in the event of a non-critical, third-party service failure. If the Google Maps API is unavailable, the user MUST be able to complete the check-in/check-out process without the application crashing. The UI should indicate the service's unavailability without blocking the primary action.","Backup, Recovery & System Reliability","Graceful Degradation: The application will handle failures of non-critical services gracefully. If the Google Maps API is unavailable, attendance marking will still function without the map preview.",,,,FALSE,medium,
4425,REQ-BRS-007,Technical,"The development and CI/CD testing workflow MUST utilize the Firebase Local Emulator Suite for all backend components, including Firestore, Cloud Functions, and Authentication, to ensure reliable, fast, and cost-effective validation of business logic and security rules before deployment.","Backup, Recovery & System Reliability","The Firebase Local Emulator Suite will be used during development to test security rules, cloud functions, and Firestore logic without incurring cloud costs and to validate data access logic.",,,,FALSE,medium,
4426,REQ-PUB-001,Technical,"The system shall be packaged as an Android App Bundle (AAB) for release on the Google Play Store. The application's manifest must declare permissions for `ACCESS_FINE_LOCATION` and `INTERNET`. The store listing configuration in the Google Play Console must include valid, publicly accessible URLs for the application's Privacy Policy and Terms of Service.",Application Publishing & Store Management,Android (Google Play Store): An Android App Bundle (AAB) will be generated for release. The app manifest will declare necessary permissions for location (ACCESS_FINE_LOCATION) and internet access. A Privacy Policy and Terms of Service will be created and hosted on Firebase Hosting and linked in the store listing.,,,,FALSE,high,
4427,REQ-PUB-002,Technical,The system shall support publishing to the Apple App Store. The application build must be cryptographically signed with a valid Apple Developer certificate. The `Info.plist` file must include user-facing purpose strings (usage descriptions) for location services (`NSLocationWhenInUseUsageDescription`) and network access. All builds intended for public release must first be deployed to TestFlight for a quality assurance cycle.,Application Publishing & Store Management,iOS (App Store): The app will be signed with a valid Apple Developer Account. The Info.plist file will contain purpose strings (usage descriptions) for location services and network access. The app will be submitted for review via TestFlight for QA before a public App Store release.,,,,FALSE,high,
4428,REQ-PUB-003,NonFunctional,The CI/CD pipeline shall automate the deployment of the application to pre-production testing environments upon a successful merge to the `main` branch. The pipeline must deploy Android builds to the Google Play Internal Testing track and iOS builds to TestFlight.,Application Publishing & Store Management,The GitHub Actions pipeline will be configured to run tests on every commit and automate releases to TestFlight/Google Play Internal Testing upon merges to the main branch.,,,,FALSE,high,
4429,REQ-19-001,Functional,"The system shall provide interactive, in-app guided tours for first-time users of each role (Admin, Supervisor, Subordinate). These tours must trigger automatically on the user's initial login and guide them through the primary functionalities relevant to their role.",User Documentation & Training Support,Materials will consist of in-app guided tours for first-time users...,,,,FALSE,high,
4430,REQ-19-002,Functional,"The system must provide dedicated training materials for the 'Subordinate' user role. The content must comprehensively cover the procedures for marking attendance (check-in/check-out), viewing personal attendance history, and understanding and interacting with events assigned in the calendar.",User Documentation & Training Support,"Training materials will be developed for each user role (Admin, Supervisor, Subordinate)... Subordinate Training: Covers attendance marking, viewing history, and interacting with events.",,,,FALSE,high,
4431,REQ-19-003,Functional,"The system must provide dedicated training materials for the 'Supervisor' user role. The content must comprehensively cover navigating the supervisor dashboard, executing the attendance approval workflow (approving/rejecting records and adding comments), and the full process of creating and assigning events to subordinates.",User Documentation & Training Support,"Training materials will be developed for each user role... Supervisor Training: Covers dashboard navigation, the approval workflow, and event creation.",,,,FALSE,high,
4432,REQ-19-004,Functional,"The system must provide a comprehensive Administrator Guide as part of the training materials for the 'Admin' role. This guide must provide detailed, step-by-step instructions for all administrative functions, including: initial tenant setup, user invitation and deactivation, managing the supervisory hierarchy, modifying all organization configurations, and the complete workflow for authorizing and managing the Google Sheets integration.",User Documentation & Training Support,"Admin Training: Covers tenant setup, user and hierarchy management, configuration, and Google Sheets integration. ... Administrator Guide: A detailed guide for Admins covering tenant setup, user management, configuration, and Google Sheets integration.",,,,FALSE,high,
4433,REQ-19-005,Functional,"A publicly accessible, searchable online help center containing all user documentation, guides, and training materials shall be created and maintained. The help center must be hosted using Firebase Hosting and be accessible via a link within the mobile application. A search function must be implemented to allow users to find information by keyword.",User Documentation & Training Support,"...and a searchable online help center hosted on Firebase Hosting. ... In-app guides or a hosted help center will be provided for all user roles (Subordinate, Supervisor, Admin).",,,,FALSE,medium,
4434,REQ-19-006,Functional,"A library of short video tutorials shall be created to visually demonstrate key system workflows. These videos must be available through the online help center and should focus on specific, task-oriented topics for each user role.",User Documentation & Training Support,Materials will consist of... short video tutorials...,,,,FALSE,medium,
4435,REQ-19-007,Technical,"Internal technical documentation must be created and maintained for development and operational teams. The documentation must detail the software architecture, the complete Firebase Firestore data model including all collections and fields, specifications for all Cloud Functions, and the operational procedures for the CI/CD pipeline.",User Documentation & Training Support,"Technical Documentation: Internal documentation will be maintained for developers, covering architecture, data models, and CI/CD processes.",,,,FALSE,high,
4436,REQ-PSCM-001,NonFunctional,"The system shall process a user's attendance check-in or check-out request, from the initial user action to the final visual confirmation in the client application, in under 3 seconds. This performance requirement must be met when the client device is operating on a network simulating a stable 3G connection.","Performance, Scalability & Cost Management",Attendance check-in/out action must complete in under 3 seconds on a stable 3G connection.,,,,FALSE,high,
4437,REQ-PSCM-002,NonFunctional,"The Supervisor's approval dashboard screen shall load and fully render the list of pending attendance records from all their subordinates in under 5 seconds. This performance target must be met for a supervisor managing up to 50 subordinates, each with at least one pending record.","Performance, Scalability & Cost Management",The Supervisor's approval dashboard must load in under 5 seconds for a list of up to 50 subordinates with pending requests.,,,,FALSE,high,
4438,REQ-PSCM-003,NonFunctional,"The system architecture, including the Firestore data model, security rules, and query patterns, shall be designed and implemented to support a single tenant with up to 500 active users without degradation of the defined performance requirements (REQ-PSCM-001, REQ-PSCM-002).","Performance, Scalability & Cost Management",The system must be designed to support up to 500 active users per tenant. Firestore queries and data structures will be indexed and optimized to meet these performance targets.,,,,FALSE,high,
4439,REQ-PSCM-004,Technical,"The standard development workflow shall mandate the use of the Firebase Local Emulator Suite for local development and testing of features involving Firestore, Cloud Functions, and Authentication. This is to minimize cloud service costs and to enable rapid, offline testing of backend logic and security rules.","Performance, Scalability & Cost Management",The Firebase Local Emulator Suite will be the primary tool for development and testing to minimize cloud service reads/writes and accelerate development cycles.,,,,FALSE,high,
4440,REQ-PSCM-005,NonFunctional,"The system shall implement a Fair Use Policy enforcement mechanism. This must include: a scheduled Cloud Function to aggregate resource consumption metrics (e.g., Firestore reads, writes) per tenant; a mechanism to notify tenant Admins when their usage exceeds defined thresholds; and a throttling mechanism to temporarily limit backend access for tenants who consistently violate the policy.","Performance, Scalability & Cost Management",A Fair Use Policy must be implemented and enforced... This includes system monitoring of resource consumption per tenant and automated throttling mechanisms for tenants who consistently exceed defined usage limits.,,,,FALSE,medium,
4441,REQ-PSCM-006,NonFunctional,Programmatic budget alerts shall be configured within the production Google Cloud Platform project. Alerts must be triggered and delivered to a designated developer notification channel when actual or forecasted monthly costs exceed predefined monetary thresholds.,"Performance, Scalability & Cost Management",Budget alerts will be configured in the Google Cloud project to notify developers of unusual cost spikes.,,,,FALSE,high,